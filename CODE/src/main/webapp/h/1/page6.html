<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Page6</title>

<!-- 最新 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="../javascript/bootstrap/bootstrap.min.css">

<!-- 可选的Bootstrap主题文件（一般不用引入） -->
<link rel="stylesheet" href="../javascript/bootstrap/bootstrap-theme.min.css">

<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="../javascript/jquery-1.9.1.min.js"></script>

<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="../javascript/bootstrap/bootstrap.min.js"></script>

<link rel="stylesheet" href="../css/common.css">

<script src="../javascript/common.js"></script>

<!--knockout-->
<script src="../javascript/knockout-3.0.0.js"></script>

<!--jquery.form-->
<script src="../javascript/jquery.form.js"></script>

<script src="../javascript/jquery.cookie.js"></script>

<script>
var global_server_domain="http://localhost:8080/baseweb/";

window.global_flag_login_validation_enable=true;
</script>

<script src="../javascript/model.js"></script>

</head>
<body>
<!-- header -->
<div>
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
<div class="container">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="navbar-header">
    <a class="navbar-brand" href="#"><span class="text-primary">Brand</span></a>
  </div>

  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav">
      <li class="active"><a href="http://localhost:8080/baseweb/">首页</a></li>
      		<li><a href="page1-channelId-1.html">c1</a></li>
      		<li><a href="page1-channelId-2.html">c2</a></li>
      		<li><a href="page1-channelId-3.html">c3-0</a></li>
      		<li><a href="page1-channelId-4.html">c4</a></li>
			<li><a href="#">全部商品</a></li>
    </ul>

	<ul class="nav navbar-nav navbar-right">
		<li><div class="all-menu-btn"><label>所有商品分类</label></div></li>
	</ul>

  </div><!-- /.navbar-collapse -->
 </div>
</nav>
</div>
<!-- //header-menu -->

<!-- header log -->
<div class="container">

<div class="row" align="right">
	<div class="col-md-12" style="font-size:12px;height:25px;">
		<div class="small-nav">
			<div><a  href="#" class="not-underline text-info">联系客服</a></div>
			<div><a href="#" class="not-underline text-info">积分兑换</a></div>
		  <div>
				<a data-bind="visible:isTourist,click:register" href="#" class="not-underline text-info">注册</a>
				<a data-bind="visible:isConsumer,click:logout" href="#" class="not-underline text-info">退出</a>
		  </div>
		  <div><a href="page6.html" class="not-underline text-info">我的订单</a></div>
		  <div>
		  		<a data-bind="visible:isTourist,click:openLoginModal" href="#" class="not-underline text-info">登陆</a>
				<span data-bind="visible:isConsumer,text:loginConsumerName" href="#" class="not-underline text-info">2</span>
		  </div>
		</ul>
	</div>
</div>
</div>

<!-- logo & buycar count -->
<div class="row">
	<div class="col-md-6" align="left"><img src="../images/vip.png" /></div>
	<div class="col-md-6" align="right">
		<div id="buyCar" class="buy-car background-color-primary" onclick="location.href='page5.html'"><span class="glyphicon glyphicon-shopping-cart"></span>&nbsp;&nbsp;购物车<span data-bind="text:carCount" class="buy-car-count text-primary">0</span></div>
			<div id="buyCarContent" class="panel panel-default" style="z-index:500;" align="left">
			  <div class="panel-body" data-bind="foreach:selectedArticles">
					<div class="media">
					  <a class="pull-left" style="width:30%;" data-bind="attr:{'href':'page4-articleId-'+article.id+'.html'}">
					    <img data-bind="attr:{'src':article.homepageImg}" class="media-object" style="width:100%;" alt="...">
					  </a>
					  <div class="media-body">
					    <a data-bind="attr:{'href':'page4-articleId-'+article.id+'.html'}" class="not-underline"><h4 data-bind="text:article.name" class="media-heading" align="left"></h4></a>
					    	<p>数量:<span data-bind="text:count">1</span><span class="pull-right" data-bind="click:$root.menuViewBuycarDeleteItem">d</span></p>
					  </div>
					</div>
			  </div>
			</div>
	</div>
</div>

</div>
<!-- //log -->

<!-- <div class="container"> -->
<!-- 	<div class="row"> -->
<!-- 		<div class="col-md-12 bg"> -->
<!-- 			<div style="height:30px;line-height:30px;padding-left:10px;width:100%;border:1px solid #E3007F;margin:5px 0px 5px 0px;"> -->
<!-- 				<p class="text-info" style="font-size:12px;"><span class="glyphicon glyphicon-cloud"></span>&nbsp;&nbsp;&nbsp;&nbsp;哥哥了给和人力和任何好皇天后土好搜噶和他如何让它</p> -->
<!-- 			</div> -->
<!-- 		</div> -->
<!-- 	</div> -->
<!-- </div> -->

<div id="allMenus" class="popover fade bottom in" style="display: none;">
	<div class="arrow"></div>
	<h3 class="popover-title">A Title</h3>
	<div class="popover-content" style="height:400px;width:270px;overflow-y:scroll;padding:0px 10px 10px 10px;">
	
		<div class="first-menu-title">m1-1</div>
		<ul class="all-menu-ul list-inline">
			<li><a href="page2-menuId-5.html">56</a></li>
			<li><a href="page2-menuId-6.html">m1-2</a></li>
			<li><a href="page2-menuId-7.html">m1-2</a></li>
			<li><a href="page2-menuId-8.html">jj</a></li>
		</ul>
		<div class="first-menu-title">m1-2</div>
		<ul class="all-menu-ul list-inline">
			<li><a href="page2-menuId-3.html">2-1</a></li>
			<li><a href="page2-menuId-4.html">1-1</a></li>
		</ul>
		
	</div>
</div>

<!-- Modal 注册-->
<div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
      
<form id="thumbnailForm" class="form-horizontal" role="form" action="../util/upload" method="POST" enctype="multipart/form-data">

  <div class="form-group">
    <label for="i7" class="col-sm-2 control-label">头像</label>
    <div class="col-sm-10">
		<div class="media">
		  <a class="pull-left" href="#">
		    <img id="thumbnailImg" class="media-object" src="http://localhost:8080/baseweb/images/icon-user.jpg" alt="...">
		  </a>
		  <div class="media-body">
		  	<input type="file" name="imgFile"/>
		  	<input type="hidden" name="userId" value="1">
		  </div>
		</div>
    </div>
  </div>
  
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button data-bind="click:onThumbnailUpload" type="submit" class="btn btn-default">register</button>
    </div>
  </div>
  
</form>

<form id="registerForm" class="form-horizontal" role="form" action="../consumerITF/register" method="POST">

  <div class="form-group">
    <label for="i2" class="col-sm-2 control-label">真实姓名</label>
    <div class="col-sm-10">
      <input id="i2" name="realName" type="text" class="form-control">
      <input name="userId" type="hidden" value="1">
      <input name="thumbnailPath" type="hidden" value="">
    </div>
  </div>
  
  <div class="form-group">
    <label for="i3" class="col-sm-2 control-label">密码</label>
    <div class="col-sm-10">
      <input id="i3" name="pwd1" type="text" class="form-control">
    </div>
  </div>
  
  <div class="form-group">
    <label for="i4" class="col-sm-2 control-label">确认密码</label>
    <div class="col-sm-10">
      <input id="i4" name="pwd2" type="text" class="form-control">
    </div>
  </div>
  
  <div class="form-group">
    <label for="i5" class="col-sm-2 control-label">电话号码</label>
    <div class="col-sm-10">
      <input id="i5" name="phoneNum" type="text" class="form-control">
    </div>
  </div>
  
  <div class="form-group">
    <label for="i6" class="col-sm-2 control-label">收货地址</label>
    <div class="col-sm-10">
      <input id="i6" name="address" type="text" class="form-control">
    </div>
  </div>
  
  <div class="form-group">
    <label for="i7" class="col-sm-2 control-label">Email</label>
    <div class="col-sm-10">
      <input id="i7" name="email" type="text" class="form-control" id="inputEmail3" placeholder="Email">
    </div>
  </div>

  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button data-bind="click:onRegister" type="submit" class="btn btn-default">register</button>
    </div>
  </div>

</form>

      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- Modal -->
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">

<form class="form-horizontal" role="form">
  <div class="form-group">
	<div id="loginResultFeedback" class="text-danger"></div>
  </div>
  <div class="form-group">
    <label for="loginText" class="col-sm-2 control-label">Email</label>
    <div class="col-sm-10">
      <input id="loginText" type="text" class="form-control" placeholder="Email">
    </div>
  </div>
  
  <div class="form-group">
    <label for="loginPwd" class="col-sm-2 control-label">Password</label>
    <div class="col-sm-10">
      <input id="loginPwd" type="password" class="form-control" placeholder="Password">
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button data-bind="click:login" type="submit" class="btn btn-default">Sign in</button>
    </div>
  </div>
</form>

      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script>
$(function(){

	<!--allMenus listener-->
		$("#allMenus").mouseleave(function(){
			$(this).hide();
		});
	<!--// allMenus listener-->

	$(".all-menu-btn").hover(function(){
		
		var allMenuBtn=$(".all-menu-btn");
		var left=allMenuBtn.offset().left;
		var top=allMenuBtn.offset().top;
		$("#allMenus").show().css("left",left-100).css("top",top+50);
		
		$(".all-menu-btn").addClass("AllMenuBtnActive");
	},function(){
		$(".all-menu-btn").removeClass("AllMenuBtnActive");
	});
	
});
</script>	
	<div class="container">
		<div class="row">
			<div class="col-md-12" style="font-size:12px;height:40px;">
				<ol class="breadcrumb">
				  <li><a href="#">Bootstrap</a></li>
				  <li><a href="#">我的订单</a></li>
				  <li class="active">全部订单</li>
				</ol>
			</div>
		</div>
	</div>
	
	<div class="container">
		<div class="row">
			<div class="col-md-2">
				<div class="panel panel-default">
				  <!-- group -->
				  <div class="panel-heading"><b>服务保障</b></div>

						<div class="list-group">
							<a href="#" class="list-group-item active" onclick="remoteHasBuyArticles();triggerActiveItem(this);">全部订单与收藏</a>
						  <a href="#" class="list-group-item" onclick="remoteHasBuyArticles(2);triggerActiveItem(this);">正在配送</a>
						  <a href="#" class="list-group-item" onclick="remoteHasBuyArticles(1);triggerActiveItem(this);">订单正在处理</a>
						  <a href="#" class="list-group-item" onclick="remoteHasBuyArticles(0);triggerActiveItem(this);">已下单</a>
						  <a href="#" class="list-group-item" onclick="remoteHasBuyArticles(3);triggerActiveItem(this);">购买成功</a>
						  <a href="#" class="list-group-item" onclick="remoteHasBuyArticles(4);triggerActiveItem(this);">收藏夹</a>
						</div>
				  <!--// group -->
				</div>
			</div>
			<div class="col-md-10">
				<div class="panel panel-default">
				  <!-- group -->
				  <div class="panel-heading"><b>服务保障</b></div>
					<div class="panel-body">
					
					<div style="height:500px;overflow-y:scroll;">
						<table class="table">
							<tr>
								<th>商品名字</th>
								<th>单价</th>
								<th>数量</th>
								<th>价格</th>
								<th>下单时间</th>
								<th>操作</th>
							</tr>
							<tbody data-bind="foreach:hasBuyArticles">
								<tr>
									<td data-bind="text:article.name"></td>
									<td data-bind="text:article.price"></td>
									<td data-bind="text:order.count"></td>
									<td data-bind="text:(article.price*order.count)"></td>
									<td data-bind="text:order.cDt"></td>
									<td>
										<a href="#" data-bind="click:$root.page6_btn_showDetail_action">查看</a>
										<a href="#" data-bind="click:$root.page6_btn_action_delete,visible:$root.page6_btn_delete_visible">删除</a>
										<a href="#" data-bind="click:$root.page6_btn_action_buy,visible:$root.page6_btn_buy_visible">购买</a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
						
					</div>				  
				</div>
			</div>
		</div>
	</div>
	
	
	
<div class="footer-block">
<div class="container footer-container">
	<div class="row">
		<div class="col-xs-3">
			<div class="footer-list">
				<div class="footer-title"><h4>服务保障</h4></div>
				<ul>
					<li><a href="page3-passageNum-1.html" class="not-underline text-info">正品保障</a></li>
					<li><a href="page3-passageNum-2.html" class="not-underline text-info">7*12小时服务</a></li>
					<li><a href="page3-passageNum-3.html" class="not-underline text-info">退货退款流程</a></li>
					<li><a href="page3-passageNum-4.html" class="not-underline text-info">保障范围</a></li>
				</ul>
			</div>
		</div>
		<div class="col-xs-3">
			<div class="footer-list">
				<div class="footer-title"><h4>购物指南</h4></div>
				<ul>
					<li><a href="page3-passageNum-5.html" class="not-underline text-info">导购演示</a></li>
					<li><a href="page3-passageNum-6.html" class="not-underline text-info">订单操作</a></li>
					<li><a href="page3-passageNum-7.html" class="not-underline text-info">会员注册</a></li>
					<li><a href="page3-passageNum-8.html" class="not-underline text-info">会员等级</a></li>
				</ul>
			</div>
		</div>
		<div class="col-xs-3">
			<div class="footer-list">
				<div class="footer-title"><h4>配送方式</h4></div>
				<ul>
					<li><a href="page3-passageNum-9.html" class="not-underline text-info">支付方式</a></li>
					<li><a href="page3-passageNum-10.html" class="not-underline text-info">货到付款</a></li>
					<li><a href="page3-passageNum-11.html" class="not-underline text-info">配送范围及运费</a></li>
					<li><a href="page3-passageNum-12.html" class="not-underline text-info">验货与签收</a></li>
				</ul>
			</div>
		</div>
		<div class="col-xs-3">
			<div class="footer-list">
				<div class="footer-title"><h4>售后服务</h4></div>
				<ul>
					<li><a href="page3-passageNum-13.html" class="not-underline text-info" href="#">退货政策</a></li>
					<li><a href="page3-passageNum-14.html" class="not-underline text-info">退货流程</a></li>
					<li><a href="page3-passageNum-15.html" class="not-underline text-info">退货方式及时效</a></li>
				</ul>
			</div>
		</div>
	</div>
	<div class="row" style="margin-top:10px;">
		<div class="col-md-12" align="center"><img src="../images/footer.png" /></div>
	</div>
</div>
</div>

<div class="text-center text-info" style="height:60px;border-top:1px solid #E3007F;padding-top:10px;">Copyright&nbsp;&nbsp;&nbsp;&nbsp;2014&nbsp;&nbsp;&nbsp;&nbsp;SKY网络工作室版权所有</div>	
	

<!-- Modal -->
<div class="modal fade" id="detailModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
      <form id="articleCommentForm" action="../page6/setComment" method="POST">
        <table class="table">
        	<tr>
        		<th>商品名称</th>
        		<td data-bind="text:page6_detail_data().article.name"></td>
        	</tr>
        	<tr>
        		<th>单价</th>
        		<td data-bind="text:page6_detail_data().article.price"></td>
        	</tr>
        	<tr>
        		<th>数量</th>
        		<td data-bind="text:page6_detail_data().order.count"></td>
        	</tr>
        	<tr>
        		<th>价格</th>
        		<td data-bind="text:page6_detail_data().article.price*page6_detail_data().order.count"></td>
        	</tr>
        	<tr>
        		<th>下单时间</th>
        		<td data-bind="text:page6_detail_data().order.uDt"></td>
        	</tr>
        	<tr data-bind="visible:page6_detail_data().order.runStatus==3">
        		<th>评分</th>
        		<td>
        			<a href="#"><span id="star1" index="1" class="glyphicon glyphicon-star-empty"></span></a>
        			<a href="#"><span id="star2" index="2" class="glyphicon glyphicon-star-empty"></span></a>
        			<a href="#"><span id="star3" index="3" class="glyphicon glyphicon-star-empty"></span></a>
        			<a href="#"><span id="star4" index="4" class="glyphicon glyphicon-star-empty"></span></a>
        			<a href="#"><span id="star5" index="5" class="glyphicon glyphicon-star-empty"></span></a>
        		</td>
        	</tr>
        	<tr data-bind="visible:page6_detail_data().order.runStatus==3">
        		<th>评论内容</th>
        		<td>
        			<input type="hidden" name="grade" id="grade" value="0">
        			<input type="hidden" name="articleId" data-bind="value:page6_detail_data().article.id">
        			<input type="hidden" name="consumerId" data-bind="value:page6_data_loginConsumerId()">
        			<textarea name="content" data-bind="text:page6_detail_data().comment.content" rows="" cols="60"></textarea>
        		</td>
        	</tr>
        	<tr data-bind="visible:page6_detail_data().order.runStatus==3">
        		<th>回复内容</th>
        		<td>
        			<div class="panel">
        				<div class="panel-body" data-bind="text:page6_detail_data().comment.replyContent"></div>
        			</div>
        		</td>
        	</tr>
        	
        </table>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-bind="click:page6_btn_action_setComment">提交评论</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script>
function triggerActiveItem(self){
	$(".list-group-item").removeClass("active");
	$(self).addClass("active");
}
$(function(){
	$(".glyphicon").hover(function(){
		var self=$(this);
		var index=self.attr("index");
		
		$(".glyphicon").removeClass("glyphicon-star").addClass("glyphicon-star-empty");
		$("#grade").val(index);
		while(index>0){
			$("#star"+index).removeClass("glyphicon-star-empty").addClass("glyphicon-star");
			index=index-1;
		}
	},function(){});
});
</script>
</body>
</html>